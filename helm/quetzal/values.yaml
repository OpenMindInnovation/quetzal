## Default values for quetzal.
## This is a YAML-formatted file.
## Declare variables to be passed into your templates.
#
#replicaCount: 1
#
#image:
#  repository: nginx
#  tag: stable
#  pullPolicy: IfNotPresent
#
#imagePullSecrets: []
#nameOverride: ""
#fullnameOverride: ""
#
#service:
#  type: ClusterIP
#  port: 80
#
#ingress:
#  enabled: false
#  annotations: {}
#    # kubernetes.io/ingress.class: nginx
#    # kubernetes.io/tls-acme: "true"
#  hosts:
#    - host: chart-example.local
#      paths: []
#
#  tls: []
#  #  - secretName: chart-example-tls
#  #    hosts:
#  #      - chart-example.local
#
#resources: {}
#  # We usually recommend not to specify default resources and to leave this as a conscious
#  # choice for the user. This also increases chances charts run on environments with little
#  # resources, such as Minikube. If you do want to specify resources, uncomment the following
#  # lines, adjust them as necessary, and remove the curly braces after 'resources:'.
#  # limits:
#  #   cpu: 100m
#  #   memory: 128Mi
#  # requests:
#  #   cpu: 100m
#  #   memory: 128Mi
#
#nodeSelector: {}
#
#tolerations: []
#
#affinity: {}

# Retained disk configuration (for database disk)
storage:
  type: pd-standard
  provisioner: kubernetes.io/gce-pd
  volumeBindingMode: Immediate

app:
  # general pod configuration
  image:
    # TODO: Change to eu, change to 0.4.0
    repository: gcr.io/quetzal-omind/quetzal/app
    tag: 0.3.0
    pullPolicy: Always
  resources:
    limits:
      memory: 4Gi
      cpu: 1000m
    requests:
      memory: 256Mi
      cpu: 250m
  nodeSelector: {}
  tolerations: []
  affinity: {}

  # quetzal specific configuration
  server_name: sandbox.quetz.al
  flask_env: staging
  admin_mail: quetzal.api@gmail.com
  data_bucket: gs://quetzal-sandbox-data
  backup_bucket: gs://quetzal-sandbox-backups
  credentials_secret_name: sandbox-credentials-secrets

  # Do not set here, but set using --set key=value when doing helm install:
  # secret_key: ...

worker:
  resources:
    limits:
      memory: 4Gi
      cpu: 1000m
    requests:
      memory: 256Mi
      cpu: 250m
  nodeSelector: {}
  tolerations: []
  affinity: {}

db:
  image:
    # TODO: Change to eu, change to 0.4.0
    repository: gcr.io/quetzal-omind/quetzal/db
    tag: 0.3.0
    pullPolicy: Always
  resources:
    limits:
      memory: 4Gi
      cpu: 1000m
    requests:
      memory: 128Mi
      cpu: 250m
  nodeSelector: {}
  tolerations: []
  affinity: {}

  # Do not set here, but set using --set key=value when doing helm install:
  # username: ...
  # password: ...

rabbitmq:
  image:
    # TODO: Change to eu, change to 0.4.0
    repository: gcr.io/quetzal-omind/quetzal/rabbitmq
    tag: 0.3.0
    pullPolicy: Always
  resources:
    limits:
      memory: 256Mi
      cpu: 250m
    requests:
      memory: 128Mi
      cpu: 250m
  nodeSelector: {}
  tolerations: []
  affinity: {}
